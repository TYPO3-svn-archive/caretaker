<?xml version="1.0" encoding="utf-8" standalone="yes" ?>

<!-- 
/**
 * This is a file of the caretaker project.
 * Copyright 2008 by n@work Internet Informationssystem GmbH (www.work.de)
 * 
 * @Author	Thomas Hempel 		<thomas@work.de>
 * @Author	Martin Ficzel		<martin@work.de>
 * @Author	Patrick Kollodzik	<patrick@work.de>
 * 
 * $$Id: ds.tx_caretaker_typo3_extensions.xml 33 2008-06-13 14:00:38Z thomas $$
 */
-->

<T3DataStructure>
	<meta>
		<langDisable>1</langDisable>
	</meta>
	<sheets>
		<sDEF>
			<ROOT>
				<TCEforms>
						<sheetTitle>Request</sheetTitle>
					</TCEforms>
				<type>array</type>
				<el>
					<request_query>
						<TCEforms>
							<label>URL path and query (e.g. index.php?id=123). Empty for root request.</label>
							<config>
								<type>input</type>
								<size>50</size>
							</config>
						</TCEforms>
					</request_query>

					<max_time_warning>
						<TCEforms>
							<label>Milliseconds for warning</label>
							<config>
								<type>input</type>
								<size>10</size>
								<eval>int</eval>
								<default>0</default>
							</config>
						</TCEforms>
					</max_time_warning>
					
					<max_time_error>
						<TCEforms>
							<label>Milliseconds for error</label>
							<config>
								<type>input</type>
								<size>10</size>
								<eval>int</eval>
								<default>0</default>
							</config>
						</TCEforms>
					</max_time_error>
					
					
				</el>
			</ROOT>
		</sDEF>

		<sRequest>
			<ROOT>
				<TCEforms>
						<sheetTitle>Advanced Request Setting</sheetTitle>
					</TCEforms>
				<type>array</type>
				<el>
					
					<request_username>
						<TCEforms>
							<label>Request Username</label>
							<config>
								<type>input</type>
							</config>
						</TCEforms>
					</request_username>
					
					<request_password>
						<TCEforms>
							<label>Request Password</label>
							<config>
								<type>input</type>
							</config>
						</TCEforms>
					</request_password>

					<request_method>
						<TCEforms>
							<label>Request Method</label>
							<config>
								<type>select</type>
								<items>
									<numIndex index="0">
										<numIndex index="0">GET</numIndex>
										<numIndex index="1">GET</numIndex>
									</numIndex>
									<numIndex index="1">
										<numIndex index="0">PUT</numIndex>
										<numIndex index="1">PUT</numIndex>
									</numIndex>
									<numIndex index="2">
										<numIndex index="0">POST</numIndex>
										<numIndex index="1">POST</numIndex>
									</numIndex>
									<numIndex index="3">
										<numIndex index="0">DELETE</numIndex>
										<numIndex index="1">DELETE</numIndex>
									</numIndex>
								</items>
								<default>GET</default>
							</config>
						</TCEforms>
					</request_method>

					<request_port>
						<TCEforms>
							<label>Request Port</label>
							<config>
								<type>input</type>
							</config>
						</TCEforms>
					</request_port>

					<request_data>
						<TCEforms>
							<label>Request Data</label>
							<displayCond>FIELD:request_method:IN:PUT,POST</displayCond>
							<config>
								<type>text</type>
								<cols>50</cols>
								<rows>5</rows>
							</config>
						</TCEforms>
					</request_data>

				</el>
			</ROOT>
		</sRequest>

		<sProxy>
			<ROOT>
				<TCEforms>
						<sheetTitle>Proxy</sheetTitle>
					</TCEforms>
				<type>array</type>
				<el>
					
					<request_proxy>
						<TCEforms>
							<label>Request Proxy</label>
							<config>
								<type>input</type>
							</config>
						</TCEforms>
					</request_proxy>

				</el>
			</ROOT>
		</sProxy>

		<sResponse>
			<ROOT>
				<TCEforms>
						<sheetTitle>Response</sheetTitle>
					</TCEforms>
				<type>array</type>
				<el>

					<expected_status>
						<TCEforms>
							<label>expected HTTP status code</label>
							<config>
								<type>input</type>
								<size>10</size>
								<eval>int</eval>
								<default>200</default>
							</config>
						</TCEforms>
					</expected_status>

					<expected_date_age>
						<TCEforms>
							<label>expected Age of Date-Header in seconds</label>
							<config>
								<type>input</type>
								<size>6</size>
								<eval>int</eval>
							</config>
						</TCEforms>
					</expected_date_age>

					<expected_modified_age>
						<TCEforms>
							<label>expected Age of Modified-Header in seconds</label>
							<config>
								<type>input</type>
								<size>6</size>
								<eval>int</eval>
							</config>
						</TCEforms>
					</expected_modified_age>

					<expected_headers>
						<TCEforms>
							<label>expected HTTP Headers (__Header__:__Value__) comparison : :&lt; :&gt; := :Age:&lt; :Age:&gt;</label>
							<config>
								<type>text</type>
							</config>
						</TCEforms>
					</expected_headers>

				</el>
			</ROOT>
		</sResponse>
		
	</sheets>
</T3DataStructure>